"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _legend,_legend2,_lodash=_interopRequireDefault(require("lodash")),_chartDataFormate=_interopRequireDefault(require("./chartDataFormate"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var pieLabelCommonOption={tooltip:{trigger:"item",formatter:"{b} : {c} ({d}%)",show:!0},legend:(_legend={show:!1,orient:"horizontal",x:"10%",data:[],bottom:"20px"},_defineProperty(_legend,"show",!0),_defineProperty(_legend,"icon","circle"),_defineProperty(_legend,"itemWidth",8),_defineProperty(_legend,"itemHeight",8),_legend),series:[{name:"",type:"pie",radius:"45%",center:["50%","45%"],labelLine:{normal:{length:15,length2:15,lineStyle:{type:"solid"}}}}]},pieLabelCommonOption1={tooltip:{trigger:"item",formatter:"{b} : {c} ({d}%)",show:!0},legend:(_legend2={width:"50%",show:!1,orient:"horizontal",x:"10%",data:[],bottom:"20px"},_defineProperty(_legend2,"show",!0),_defineProperty(_legend2,"icon","circle"),_defineProperty(_legend2,"itemWidth",8),_defineProperty(_legend2,"itemHeight",8),_legend2),series:[{name:"",type:"pie",roseType:"radius",radius:"45%",center:["50%","45%"],labelLine:{normal:{length:15,length2:15,lineStyle:{type:"solid"}}},label:{normal:{formatter:function(e){return"{c|"+e.percent.toFixed(0)+"%}\n{b|"+e.name+"} "},align:"center",rich:{b:{fontSize:14,lineHeight:20},c:{fontSize:18}}}}}]},pieLegendCommonOption={tooltip:{trigger:"item",formatter:"{b} : {d} %"},series:[{name:"",type:"pie",radius:"45%",center:["50%","30%"],label:{normal:{show:!1}}}]},pieRingLabelCommonOption={tooltip:{trigger:"item",formatter:"{b} : {c} ({d}%)",show:!0},legend:{orient:"horizontal",x:"10%",data:[],bottom:"40px",show:!0,icon:"circle",itemWidth:8,itemHeight:8},series:[{name:"",type:"pie",radius:["35%","45%"],center:["50%","45%"],label:{normal:{formatter:function(e){return"{c|"+e.percent.toFixed(0)+"%}\n{b|"+e.name+"} "},align:"center",rich:{b:{fontSize:14,lineHeight:20},c:{fontSize:18}}}}}]},pieRingLegendCommonOption={tooltip:{trigger:"item",formatter:"{b} : {c} ({d}%)"},legend:{orient:"horizontal",data:[],show:!0,icon:"circle",bottom:30,height:"25%",itemWidth:8,itemHeight:8,padding:20,formatter:function(e){var t=pieRingLegendCommonOption.series[0].data,i=0;t.forEach(function(e,t){i+=e.value});for(var n=0;n<t.length;n++)if(e==t[n].name)return e+"  "+(t[n].value/i*100).toFixed(2)+"%"}},series:[{name:"",type:"pie",radius:["35%","45%"],center:["50%","30%"],label:{normal:{show:!1}}}]},pieLabel=function(e){var n,r=this,a=this.initData(e),t=(n=e,function(){var e=_chartDataFormate.default.FormateNOGroupData(a),t={legend:{show:!1,icon:"circle",itemWidth:8,itemHeight:8,data:e.category},series:[{name:n.name||"",data:e.data,label:{normal:{formatter:function(e){return"{c|"+e.percent.toFixed(0)+"%}\n{b|"+e.name+"} "},align:"center",rich:{b:{fontSize:14,lineHeight:20,color:r.pieLabelColor},c:{fontSize:18,color:r.pieLabelColor}}}}}]},i=_lodash.default.merge(pieLabelCommonOption,t);r.renderChart(i),r._next()});return this.tasks.push(t),this},pieLabel1=function(e){var n,r=this,a=this.initData(e),t=(n=e,function(){var e=_chartDataFormate.default.FormateNOGroupData(a),t={legend:{show:!1,icon:"circle",itemWidth:8,itemHeight:8,data:e.category},series:[{name:n.name||"",data:e.data,label:{normal:{formatter:function(e){return"{c|"+e.percent.toFixed(0)+"%}\n{b|"+e.name+"} "},align:"center",rich:{b:{fontSize:14,lineHeight:20,color:r.pieLabelColor},c:{fontSize:18,color:r.pieLabelColor}}}}}]},i=_lodash.default.merge(pieLabelCommonOption1,t);r.renderChart(i),r._next()});return this.tasks.push(t),this},pieLegend=function(e){var c,f=this,m=this.initData(e),t=(c=e,function(){var r=_chartDataFormate.default.FormateNOGroupData(m),i=r.data,n=r.category,a=i.filter(function(e,t){if(t<i.length/2)return e}),e=n.filter(function(e,t){if(t<n.length/2)return e}),o=i.filter(function(e,t){if(t>=i.length/2)return e}),t=n.filter(function(e,t){if(t>=n.length/2)return e}),l={legend:[{left:document.getElementById(f.id).offsetWidth/2-150,orient:"vertical",data:e,show:!0,icon:"circle",top:"60%",itemGap:15,padding:20,itemWidth:8,itemHeight:8,formatter:function(e){var t=r.data,i=0;t.forEach(function(e,t){i+=e.value});for(var n=0;n<a.length;n++)if(e==a[n].name)return e+"  "+(a[n].value/i*100).toFixed(2)+"%"}},{left:document.getElementById(f.id).offsetWidth/2,orient:"vertical",data:t,show:!0,icon:"circle",top:"60%",itemGap:15,padding:20,itemWidth:8,itemHeight:8,formatter:function(e){var t=r.data,i=0;t.forEach(function(e,t){i+=e.value});for(var n=0;n<o.length;n++)if(e==o[n].name)return e+"  "+(o[n].value/i*100).toFixed(2)+"%"}}],series:[{name:c.name||"",data:r.data}]},d=_lodash.default.merge(pieLegendCommonOption,l);f.renderChart(d),f._next()});return this.tasks.push(t),this},pieRingLabel=function(e){var n,r=this,a=this.initData(e),t=(n=e,function(){var e=_chartDataFormate.default.FormateNOGroupData(a),t={legend:{show:!1,icon:"circle",itemWidth:8,itemHeight:8,data:e.category},series:[{name:n.name||"",data:e.data,label:{normal:{formatter:function(e){return"{c|"+e.percent.toFixed(0)+"%}\n{b|"+e.name+"} "},align:"center",rich:{b:{fontSize:14,lineHeight:20,color:r.pieLabelColor},c:{fontSize:18,color:r.pieLabelColor}}}}}]},i=_lodash.default.merge(pieRingLabelCommonOption,t);r.renderChart(i),r._next()});return this.tasks.push(t),this},pieRingLegend=function(e){console.log(this);var c,f=this,m=this.initData(e),t=(c=e,function(){var r=_chartDataFormate.default.FormateNOGroupData(m),i=r.data,n=r.category,a=i.filter(function(e,t){if(t<i.length/2)return e}),e=n.filter(function(e,t){if(t<n.length/2)return e}),o=i.filter(function(e,t){if(t>=i.length/2)return e}),t=n.filter(function(e,t){if(t>=n.length/2)return e}),l={legend:[{left:document.getElementById(f.id).offsetWidth/2-150,orient:"vertical",data:e,show:!0,icon:"circle",top:"60%",itemGap:15,padding:20,itemWidth:8,itemHeight:8,formatter:function(e){var t=r.data,i=0;t.forEach(function(e,t){i+=e.value});for(var n=0;n<a.length;n++)if(e==a[n].name)return e+"  "+(a[n].value/i*100).toFixed(2)+"%"}},{left:document.getElementById(f.id).offsetWidth/2,orient:"vertical",data:t,show:!0,icon:"circle",top:"60%",itemGap:15,padding:20,itemWidth:8,itemHeight:8,formatter:function(e){var t=r.data,i=0;t.forEach(function(e,t){i+=e.value});for(var n=0;n<o.length;n++)if(e==o[n].name)return e+"  "+(o[n].value/i*100).toFixed(2)+"%"}}],series:[{name:c.name||"",data:r.data}]},d=_lodash.default.merge(pieRingLegendCommonOption,l);console.log(444,d),f.renderChart(d),f._next()});return this.tasks.push(t),this},_default={pieLabel:pieLabel,pieLabel1:pieLabel1,pieLegend:pieLegend,pieRingLabel:pieRingLabel,pieRingLegend:pieRingLegend};exports.default=_default;